## 线程

线程被定义为程序的执行路径，每个线程都定义了一个独特的控制流

线程是轻量级的进程，一个使用线程的常见示例是现代操作系统中并行编程的的实现。使用线程节省了CPU周期的浪费，同时提高了程序的运行效率

## 线程生命周期

线程的生命周期开始于 Thread类的对象被创建的瞬间，结束于线程被终止或完成执行时

### 线程生命周期中的各种状态

- 未启动状态：当线程实例被创建，但Start方法为被调用的时候
- 就绪状态：当线程准备好运行，等待CPU周期时的状态
- 不可运行状态：
  - 已经调用sleep方法
  - 已经调用wait方法
  - 通过I/O操作阻塞
- 死亡状态：当前线程已完成或已中止的状态

```csharp
        Thread t = Thread.CurrentThread;//获取当前线程
        t.Name = "MainThread";//设置线程的名字
        Console.WriteLine(t.Name);//输出线程的名字
```

线程中第一个被执行的线程成为主线程

当C#程序开始执行时，主线程自动创建

### ThreadStart()

是一个委托

~~~Csharp
        static void Main(string[] args)
        {
            //ThreadStart start = new ThreadStart(ChildThreadMethod);
            //Thread childThread = new Thread(start);
            Thread childThread = new Thread(new ThreadStart(ChildThreadMethod));
            childThread.Start();//开启线程

            Console.WriteLine("MainThread is running!");
        }

        public static void ChildThreadMethod()
        {
            Console.WriteLine("ChildThread is Running");
        }
~~~

### Thread

也是一个委托 构造函数中可以接收无参或只有一个参的方法作为参数

~~~Csharp
            Thread t = new Thread(
                () => Console.WriteLine("childThread:" + Thread.CurrentThread.ManagedThreadId));
            t.Start();
            Console.WriteLine("mainThread:" + Thread.CurrentThread.ManagedThreadId);
~~~

